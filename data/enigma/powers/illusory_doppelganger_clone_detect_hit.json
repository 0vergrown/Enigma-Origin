{
    "type":"origins:multiple",
    "immune_to_the_sun":{
       "type":"origins:fire_immunity",
       "condition":{
          "type":"origins:exposed_to_sun"
       }
    },
    "invisibility":{
        "type":"origins:invisibility",
        "render_armor":true,
        "render_outline":true
    },
    "actor_set":{
       "type":"origins:entity_set"
    },
    "add_to_set":{
       "type":"origins:action_on_callback",
       "entity_action_added":{
          "type":"origins:area_of_effect",
          "radius":1,
          "shape":"cube",
          "bientity_action":{
             "type":"origins:add_to_set",
             "set":"enigma:illusory_doppelganger_clone_detect_hit_actor_set"
          },
          "bientity_condition":{
             "type":"origins:target_condition",
             "condition":{
                "type":"origins:origin",
                "origin":"enigma:enigma",
                "layer":"origins:origin"
             }
          },
          "include_actor":false
       },
       "entity_action_removed":{
          "type":"origins:action_on_set",
          "set":"enigma:illusory_doppelganger_clone_detect_hit_actor_set",
          "bientity_action":{
             "type":"origins:remove_from_set",
             "set":"enigma:illusory_doppelganger_clone_detect_hit_actor_set"
          },
          "limit":1,
          "reverse":false
       }
    },
    "on_hit":{
       "type":"origins:self_action_when_hit",
       "entity_action":{
          "type":"origins:action_on_set",
          "set":"enigma:illusory_doppelganger_clone_detect_hit_actor_set",
          "bientity_action":{
             "type":"origins:and",
             "actions":[
                {
                   "type":"origins:target_action",
                   "action":{
                      "type":"origins:and",
                      "actions":[
                         {
                            "type":"origins:damage",
                            "amount":6,
                            "damage_type":"minecraft:magic"
                         },
                         {
                            "type":"origins:change_resource",
                            "resource":"enigma:illusory_doppelganger_trigger",
                            "change":0,
                            "operation":"set"
                         }
                      ]
                   }
                },
                {
                   "type":"origins:delay",
                   "action":{
                      "type":"origins:remove_from_set",
                      "set":"enigma:illusory_doppelganger_clone_detect_hit_actor_set"
                   },
                   "ticks":1
                },
                {
                   "type":"origins:actor_action",
                   "action":{
                      "type":"origins:delay",
                      "action":{
                         "type":"origins:and",
                         "actions":[
                            {
                               "type":"origins:grant_power",
                               "power":"enigma:illusory_doppelganger_clone_kill",
                               "source":"enigma:enigma"
                            },
                            {
                               "type":"origins:execute_command",
                               "command":"forceload remove ~ ~ ~ ~"
                            }
                         ]
                      },
                      "ticks":2
                   }
                }
             ]
          },
          "limit":1,
          "reverse":false
       },
       "cooldown":1,
       "hud_render":{
          "should_render":false
       }
    }
}